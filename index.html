<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en" class=""&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Audit the Odds&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>:root {</p>
<p class="p1"><span class="Apple-converted-space">            </span>--bg-color: #f8fafc; /* Slate 50 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--container-bg: #ffffff; /* White */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--text-primary: #0f172a; /* Slate 900 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--text-secondary: #475569; /* Slate 600 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--border-color: #e2e8f0; /* Slate 200 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--input-bg: #f1f5f9; /* Slate 100 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--header-bg-light: hsla(0, 0%, 100%, 0.7);</p>
<p class="p1"><span class="Apple-converted-space">            </span>--accent-color: #2563eb; /* Blue 600 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--accent-color-light: #eff6ff; /* Blue 50 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--accent-text-dark: #1e40af; /* Blue 800 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--positive-bg: #f0fdf4; /* Green 50 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--positive-text: #15803d; /* Green 700 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--positive-border: #bbf7d0; /* Green 300 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--negative-bg: #fef2f2; /* Red 50 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--negative-text: #b91c1c; /* Red 700 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--negative-border: #fecaca; /* Red 300 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>html.dark {</p>
<p class="p1"><span class="Apple-converted-space">            </span>--bg-color: #020617; /* Slate 950 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--container-bg: #0f172a; /* Slate 900 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--text-primary: #f1f5f9; /* Slate 100 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--text-secondary: #64748b; /* Slate 500 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--border-color: #1e293b; /* Slate 800 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--input-bg: #1e293b;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--header-bg-light: hsla(222, 47%, 11%, 0.7);</p>
<p class="p1"><span class="Apple-converted-space">            </span>--accent-color: #3b82f6; /* Blue 500 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--accent-color-light: #1e293b; /* A darker blue-ish slate */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--accent-text-dark: #93c5fd; /* Blue 300 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--positive-bg: #111827; /* Gray 900 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--positive-text: #4ade80; /* Green 400 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--positive-border: #166534; /* Green 800 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--negative-bg: #111827; /* Gray 900 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--negative-text: #f87171; /* Red 400 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>--negative-border: #991b1b; /* Red 800 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Inter', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: var(--bg-color);</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-primary);</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: background-color 0.3s, color 0.3s;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: sticky;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 10;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: var(--header-bg-light);</p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(12px);</p>
<p class="p1"><span class="Apple-converted-space">            </span>-webkit-backdrop-filter: blur(12px);</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 1.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 1.25rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 12px rgba(0,0,0,0.08);</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--border-color);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>html.dark header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 20px rgba(0,0,0,0.3);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>#theme-toggle { position: absolute; top: 1rem; right: 1rem; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#help-btn { position: absolute; top: 1rem; left: 1rem; }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-card {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: var(--container-bg);</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 1.25rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 1.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 6px 15px rgba(0,0,0,0.05);</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--border-color);</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: transform 0.2s, box-shadow 0.2s;</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-card:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-4px);</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 10px 20px rgba(0,0,0,0.08);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>html.dark .game-card { box-shadow: 0 6px 15px rgba(0,0,0,0.2); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>html.dark .game-card:hover { box-shadow: 0 10px 20px rgba(0,0,0,0.3); }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>.result-display {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0.5rem 0.75rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 0.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 0.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 500;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: var(--positive-bg);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.positive-ev { color: var(--positive-text); border-color: var(--positive-border); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.negative-ev { color: var(--negative-text); border-color: var(--negative-border); }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>.spinner { animation: rotate 1s linear infinite; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Custom Slider &amp; Input Styles */</p>
<p class="p1"><span class="Apple-converted-space">        </span>input[type=range] { -webkit-appearance: none; background: transparent; cursor: pointer; width: 100%; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>input[type=range]:focus { outline: none; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>input[type=range]::-webkit-slider-runnable-track { background: var(--input-bg); height: 0.75rem; border-radius: 1rem; border: 1px solid var(--border-color); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; margin-top: -0.6rem; background-color: var(--accent-color); height: 1.75rem; width: 1.75rem; border-radius: 50%; border: 5px solid var(--container-bg); box-shadow: 0 2px 5px rgba(0,0,0,0.2); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>input[type=range]::-moz-range-track { background: var(--input-bg); height: 0.75rem; border-radius: 1rem; border: 1px solid var(--border-color); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>input[type=range]::-moz-range-thumb { background-color: var(--accent-color); height: 1.75rem; width: 1.75rem; border-radius: 50%; border: 5px solid var(--container-bg); box-shadow: 0 2px 5px rgba(0,0,0,0.2); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.prob-input { background-color: var(--input-bg); border: 1px solid var(--border-color); border-radius: 0.375rem; text-align: center; width: 70px; font-weight: 600; padding: 0.25rem; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.prob-input:focus { outline: 2px solid var(--accent-color); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.utility-btn { background-color: var(--input-bg); border: 1px solid var(--border-color); color: var(--text-secondary); padding: 0.5rem 1rem; border-radius: 9999px; font-weight: 500; transition: all 0.2s; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.utility-btn:hover { background-color: var(--accent-color-light); border-color: var(--accent-color); color: var(--accent-text-dark); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Collapsible Section */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.collapsible { max-height: 0; overflow: hidden; transition: max-height 0.35s ease-in-out; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.collapsible.open { max-height: 150px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#api-key-arrow { transition: transform 0.3s; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#api-key-arrow.open { transform: rotate(180deg); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Modal Styles */</p>
<p class="p1"><span class="Apple-converted-space">        </span>#help-modal { transition: opacity 0.3s; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#help-modal-content { transition: transform 0.3s; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Summary Dashboard */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-card {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: var(--container-bg);</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--border-color);</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 6px rgba(0,0,0,0.04);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body class="p-4 md:p-6 lg:p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="max-w-5xl mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;header&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button id="theme-toggle" class="p-2 rounded-full focus:outline-none" style="color: var(--text-secondary); background-color: var(--bg-color); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;svg id="theme-icon-light" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;svg id="theme-icon-dark" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button id="help-btn" class="p-2 rounded-full focus:outline-none" style="color: var(--text-secondary); background-color: var(--bg-color); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"&gt;&lt;path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" /&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h1 class="text-4xl md:text-5xl font-extrabold mb-2"&gt;Audit the Odds &lt;span class="text-lg align-middle font-medium text-secondary"&gt;v4.5&lt;/span&gt;&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-lg text-secondary"&gt;Find value by analyzing live betting lines.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;main class="mt-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">             </span>&lt;!-- API Key Section --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button id="api-key-toggle" class="text-sm font-medium text-secondary hover:text-primary transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;Odds API Key Settings&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg id="api-key-arrow" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="api-key-container" class="collapsible rounded-lg overflow-hidden mt-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                     </span>&lt;div class="p-4" style="background-color: var(--container-bg); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                         </span>&lt;label for="odds-api-key-input" class="block text-sm font-medium mb-2"&gt;The Odds API Key&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                         </span>&lt;div class="flex items-center space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                             </span>&lt;input type="password" id="odds-api-key-input" placeholder="Enter your API key from The Odds API" class="flex-grow p-2 rounded-md" style="background-color: var(--input-bg); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                             </span>&lt;button id="save-key-btn" class="text-sm font-semibold py-2 px-4 rounded-lg transition-colors" style="background-color: var(--accent-color); color: white;"&gt;Save&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                         </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                         </span>&lt;p class="text-xs text-secondary mt-2"&gt;Get your free API key from &lt;a href="https://the-odds-api.com/" target="_blank" rel="noopener" class="underline"&gt;the-odds-api.com&lt;/a&gt;. Your key is stored locally in your browser.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                     </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- Main Action Button --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="analyze-section" class="text-center my-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="analyze-today-btn" class="text-xl font-semibold py-4 px-10 rounded-xl transition-transform transform hover:scale-105 shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-offset-2" style="background-color: var(--accent-color); color: white; focus-ring-color: var(--accent-color)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>Analyze Today's Games</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="processingState" class="hidden text-center py-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;svg class="spinner h-8 w-8 mx-auto" style="color: var(--accent-color);" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"&gt;&lt;circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"&gt;&lt;/circle&gt;&lt;path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p id="processing-text" class="mt-4 text-secondary"&gt;Fetching the latest odds... this may take a moment.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="errorState" class="hidden text-center p-4 rounded-lg" style="background-color: var(--negative-bg); color: var(--negative-text);"&gt;&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="results-area" class="hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                 </span>&lt;!-- Summary Dashboard --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="summary-dashboard" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 text-center"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                 </span>&lt;!-- Strategy Controls --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="strategy-controls" class="hidden mb-6 p-4 rounded-xl" style="background-color: var(--container-bg); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-lg font-semibold mb-3 text-center"&gt;Parlay Strategy&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="strategy-options" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button id="generate-parlay-btn" class="text-base font-semibold py-2 px-6 rounded-lg flex items-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed mx-auto" style="background-color: #16a34a; color: white;" disabled&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span id="parlay-btn-text"&gt;Apply Strategy &amp; Copy Parlay&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- Filter and Sort Controls --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="filter-controls" class="mb-4 p-4 rounded-xl flex flex-col sm:flex-row flex-wrap items-center justify-between gap-4" style="background-color: var(--container-bg); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center space-x-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label for="ev-filter-toggle" class="text-sm font-medium whitespace-nowrap"&gt;Show +EV Only&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label for="ev-filter-toggle" class="relative inline-flex items-center cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" value="" id="ev-filter-toggle" class="sr-only peer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label for="sort-select" class="text-sm font-medium"&gt;Sort By:&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;select id="sort-select" class="text-sm rounded-md p-1" style="background-color: var(--input-bg); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="default"&gt;Default Order&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="highest-ev"&gt;Highest EV&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button id="copy-btn" class="text-sm font-semibold py-2 px-4 rounded-lg flex items-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed" style="background-color: var(--accent-color); color: white;" disabled&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span id="copy-btn-text"&gt;Copy +EV Games&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button id="new-analysis-btn" class="utility-btn text-sm py-2 px-4 rounded-lg flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"&gt;&lt;path fill-rule="evenodd" d="M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z" clip-rule="evenodd" /&gt;&lt;path fill-rule="evenodd" d="M13.5 4.432a.75.75 0 01.068 1.056l-3.25 4.5a.75.75 0 01-1.139.009l-1.75-2.003a.75.75 0 111.122-1.004l1.18 1.348 2.72-3.778a.75.75 0 011.056-.068z" clip-rule="evenodd" /&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>New Analysis</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="game-list-container" class="grid grid-cols-1 gap-6"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Help Modal --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="help-modal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50 p-4 opacity-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="help-modal-content" class="w-full max-w-2xl p-6 md:p-8 rounded-2xl shadow-2xl transform scale-95" style="background-color: var(--container-bg); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 class="text-2xl font-bold"&gt;How It Works&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="close-help-modal" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="text-secondary space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p&gt;&lt;strong&gt;1. Analyze Games:&lt;/strong&gt; Click the "Analyze Today's Games" button. The app will automatically fetch the latest odds for available sports using The Odds API.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p&gt;&lt;strong&gt;2. Adjust Probabilities:&lt;/strong&gt; For each game, the app shows the "implied probability" from the sportsbook's odds. Use the slider or type in the input box to adjust this to what you believe the &lt;span class="font-semibold text-primary"&gt;true probability&lt;/span&gt; is.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p&gt;&lt;strong&gt;3. Find +EV:&lt;/strong&gt; The app instantly calculates the &lt;strong&gt;Expected Value (EV)&lt;/strong&gt; for each bet based on your probability. A positive EV (+EV) indicates a potentially profitable bet in the long run if your probability assessment is more accurate than the sportsbook's.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p&gt;&lt;strong&gt;4. Copy &amp; Strategize:&lt;/strong&gt; Use the filter controls to see only +EV opportunities, then copy them to your clipboard or use the Parlay Strategy tool to build combinations.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Parlay Modal --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="parlay-modal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50 p-4 opacity-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="parlay-modal-content" class="w-full max-w-lg p-6 md:p-8 rounded-2xl shadow-2xl transform scale-95" style="background-color: var(--container-bg); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 class="text-2xl font-bold"&gt;Generated Parlay Picks&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="close-parlay-modal" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="parlay-list-container" class="space-y-3 max-h-80 overflow-y-auto pr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- Parlay picks will be inserted here --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="mt-6 flex justify-end space-x-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                 </span>&lt;button id="cancel-parlay-btn" class="utility-btn text-sm py-2 px-4 rounded-lg"&gt;Cancel&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                 </span>&lt;button id="copy-parlay-btn" class="text-sm font-semibold py-2 px-4 rounded-lg flex items-center transition-colors" style="background-color: var(--accent-color); color: white;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span id="copy-parlay-btn-text"&gt;Copy &amp; Close&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const gameListContainer = document.getElementById('game-list-container');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const processingState = document.getElementById('processingState');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const processingText = document.getElementById('processing-text');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const errorState = document.getElementById('errorState');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const themeToggle = document.getElementById('theme-toggle');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const themeIconLight = document.getElementById('theme-icon-light');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const themeIconDark = document.getElementById('theme-icon-dark');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const resultsArea = document.getElementById('results-area');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const filterControls = document.getElementById('filter-controls');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const evFilterToggle = document.getElementById('ev-filter-toggle');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const sortSelect = document.getElementById('sort-select');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const copyBtn = document.getElementById('copy-btn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const copyBtnText = document.getElementById('copy-btn-text');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const oddsApiKeyInput = document.getElementById('odds-api-key-input');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const saveKeyBtn = document.getElementById('save-key-btn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const apiKeyToggle = document.getElementById('api-key-toggle');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const apiKeyContainer = document.getElementById('api-key-container');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const apiKeyArrow = document.getElementById('api-key-arrow');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const analyzeSection = document.getElementById('analyze-section');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const analyzeTodayBtn = document.getElementById('analyze-today-btn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const strategyControls = document.getElementById('strategy-controls');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const strategyOptionsContainer = document.getElementById('strategy-options');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const generateParlayBtn = document.getElementById('generate-parlay-btn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const parlayBtnText = document.getElementById('parlay-btn-text');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const newAnalysisBtn = document.getElementById('new-analysis-btn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const helpBtn = document.getElementById('help-btn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const helpModal = document.getElementById('help-modal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const helpModalContent = document.getElementById('help-modal-content');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const closeHelpModalBtn = document.getElementById('close-help-modal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const summaryDashboard = document.getElementById('summary-dashboard');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const parlayModal = document.getElementById('parlay-modal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const parlayModalContent = document.getElementById('parlay-modal-content');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const closeParlayModalBtn = document.getElementById('close-parlay-modal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cancelParlayBtn = document.getElementById('cancel-parlay-btn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const parlayListContainer = document.getElementById('parlay-list-container');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const copyParlayBtn = document.getElementById('copy-parlay-btn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const copyParlayBtnText = document.getElementById('copy-parlay-btn-text');</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let ALL_SPORTS_DATA = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>let gameCardElements = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- API KEY MANAGEMENT ---</p>
<p class="p1"><span class="Apple-converted-space">            </span>oddsApiKeyInput.value = localStorage.getItem('theOddsApiKey') || 'cc51a757d14174fd8061956b288df39e';</p>
<p class="p1"><span class="Apple-converted-space">            </span>saveKeyBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const key = oddsApiKeyInput.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">                </span>localStorage.setItem('theOddsApiKey', key);</p>
<p class="p1"><span class="Apple-converted-space">                </span>saveKeyBtn.textContent = 'Saved!';</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; { saveKeyBtn.textContent = 'Save'; }, 2000);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>apiKeyToggle.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>apiKeyContainer.classList.toggle('open');</p>
<p class="p1"><span class="Apple-converted-space">                </span>apiKeyArrow.classList.toggle('open');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- THEME SWITCHER ---</p>
<p class="p1"><span class="Apple-converted-space">            </span>const applyTheme = (theme) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (theme === 'dark') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.documentElement.classList.add('dark');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>themeIconLight.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>themeIconDark.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.documentElement.classList.remove('dark');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>themeIconLight.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>themeIconDark.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>themeToggle.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const newTheme = document.documentElement.classList.contains('dark') ? 'light' : 'dark';</p>
<p class="p1"><span class="Apple-converted-space">                </span>localStorage.setItem('theme', newTheme);</p>
<p class="p1"><span class="Apple-converted-space">                </span>applyTheme(newTheme);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>const savedTheme = localStorage.getItem('theme');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;</p>
<p class="p1"><span class="Apple-converted-space">            </span>applyTheme(savedTheme || (prefersDark ? 'dark' : 'light'));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- TEAM &amp; SPORT DATA ---</p>
<p class="p1"><span class="Apple-converted-space">            </span>const TEAMS_DATA = { 'BOS': { name: 'Boston Red Sox', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/bos.png' }, 'CHC': { name: 'Chicago Cubs', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/chc.png' }, 'CWS': { name: 'Chicago White Sox', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/chw.png' }, 'PIT': { name: 'Pittsburgh Pirates', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/pit.png' }, 'SD': { name: 'San Diego Padres', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/sd.png' }, 'WSH': { name: 'Washington Nationals', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/wsh.png' }, 'LAA': { name: 'Los Angeles Angels', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/laa.png' }, 'PHI': { name: 'Philadelphia Phillies', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/phi.png' }, 'SF': { name: 'San Francisco Giants', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/sf.png' }, 'TOR': { name: 'Toronto Blue Jays', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/tor.png' }, 'NYY': { name: 'New York Yankees', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/nyy.png' }, 'ATL': { name: 'Atlanta Braves', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/atl.png' }, 'MIL': { name: 'Milwaukee Brewers', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/mil.png' }, 'LAD': { name: 'Los Angeles Dodgers', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/lad.png' }, 'HOU': { name: 'Houston Astros', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/hou.png' }, 'SEA': { name: 'Seattle Mariners', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/sea.png' }, 'CIN': { name: 'Cincinnati Reds', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/cin.png' }, 'STL': { name: 'St. Louis Cardinals', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/stl.png' }, 'TB': { name: 'Tampa Bay Rays', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/tb.png' }, 'BAL': { name: 'Baltimore Orioles', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/bal.png' }, 'CLE': { name: 'Cleveland Guardians', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/cle.png' }, 'MIN': { name: 'Minnesota Twins', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/min.png' }, 'KC': { name: 'Kansas City Royals', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/kc.png' }, 'DET': { name: 'Detroit Tigers', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/det.png' }, 'TEX': { name: 'Texas Rangers', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/tex.png' }, 'OAK': { name: 'Oakland Athletics', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/oak.png' }, 'NYM': { name: 'New York Mets', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/nym.png' }, 'MIA': { name: 'Miami Marlins', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/mia.png' }, 'ARI': { name: 'Arizona Diamondbacks', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/ari.png' }, 'COL': { name: 'Colorado Rockies', logo: 'https://a.espncdn.com/i/teamlogos/mlb/500/col.png' }, 'CFL-HAM': { name: 'Hamilton Tiger-Cats', logo: 'https://upload.wikimedia.org/wikipedia/en/8/87/Hamilton_Tiger-Cats_logo.svg' }, 'CFL-CGY': { name: 'Calgary Stampeders', logo: 'https://upload.wikimedia.org/wikipedia/en/b/b8/Calgary_Stampeders_logo.svg' }, 'CFL-TOR': { name: 'Toronto Argonauts', logo: 'https://upload.wikimedia.org/wikipedia/en/e/e1/Toronto_Argonauts_logo.svg' }, 'CFL-SSK': { name: 'Saskatchewan Roughriders', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/5/5c/Saskatchewan_Roughriders_logo.svg/100px-Saskatchewan_Roughriders_logo.svg.png' }, 'CFL-BC': { name: 'BC Lions', logo: 'https://upload.wikimedia.org/wikipedia/en/3/3f/BC_Lions_Logo.svg' }, 'CFL-EDM': { name: 'Edmonton Elks', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/1/1a/Edmonton_Elks_logo.svg/100px-Edmonton_Elks_logo.svg.png' }, 'CFL-WPG': { name: 'Winnipeg Blue Bombers', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/0/04/Winnipeg_Blue_Bombers_logo.svg/100px-Winnipeg_Blue_Bombers_logo.svg.png' }, 'CFL-MTL': { name: 'Montreal Alouettes', logo: 'https://upload.wikimedia.org/wikipedia/en/2/2f/Montreal_Alouettes_logo.svg' }, 'CFL-OTT': { name: 'Ottawa Redblacks', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/f/f7/Ottawa_Redblacks_logo.svg/100px-Ottawa_Redblacks_logo.svg.png' }, 'NFL-ARI': { name: 'Arizona Cardinals', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/ari.png' }, 'NFL-ATL': { name: 'Atlanta Falcons', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/atl.png' }, 'NFL-BAL': { name: 'Baltimore Ravens', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/bal.png' }, 'NFL-BUF': { name: 'Buffalo Bills', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/buf.png' }, 'NFL-CAR': { name: 'Carolina Panthers', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/car.png' }, 'NFL-CHI': { name: 'Chicago Bears', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/chi.png' }, 'NFL-CIN': { name: 'Cincinnati Bengals', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/cin.png' }, 'NFL-CLE': { name: 'Cleveland Browns', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/cle.png' }, 'NFL-DAL': { name: 'Dallas Cowboys', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/dal.png' }, 'NFL-DEN': { name: 'Denver Broncos', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/den.png' }, 'NFL-DET': { name: 'Detroit Lions', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/det.png' }, 'NFL-GB': { name: 'Green Bay Packers', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/gb.png' }, 'NFL-HOU': { name: 'Houston Texans', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/hou.png' }, 'NFL-IND': { name: 'Indianapolis Colts', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/ind.png' }, 'NFL-JAX': { name: 'Jacksonville Jaguars', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/jax.png' }, 'NFL-KC': { name: 'Kansas City Chiefs', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/kc.png' }, 'NFL-LV': { name: 'Las Vegas Raiders', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/lv.png' }, 'NFL-LAC': { name: 'Los Angeles Chargers', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/lac.png' }, 'NFL-LAR': { name: 'Los Angeles Rams', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/lar.png' }, 'NFL-MIA': { name: 'Miami Dolphins', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/mia.png' }, 'NFL-MIN': { name: 'Minnesota Vikings', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/min.png' }, 'NFL-NE': { name: 'New England Patriots', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/ne.png' }, 'NFL-NO': { name: 'New Orleans Saints', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/no.png' }, 'NFL-NYG': { name: 'New York Giants', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/nyg.png' }, 'NFL-NYJ': { name: 'New York Jets', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/nyj.png' }, 'NFL-PHI': { name: 'Philadelphia Eagles', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/phi.png' }, 'NFL-PIT': { name: 'Pittsburgh Steelers', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/pit.png' }, 'NFL-SF': { name: 'San Francisco 49ers', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/sf.png' }, 'NFL-SEA': { name: 'Seattle Seahawks', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/sea.png' }, 'NFL-TB': { name: 'Tampa Bay Buccaneers', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/tb.png' }, 'NFL-TEN': { name: 'Tennessee Titans', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/ten.png' }, 'NFL-WSH': { name: 'Washington Commanders', logo: 'https://a.espncdn.com/i/teamlogos/nfl/500/wsh.png' }, 'NCAAF-SJSU': { name: 'San Jose State Spartans', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/23.png' }, 'NCAAF-TEX': { name: 'Texas Longhorns', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/251.png' }, 'NCAAF-ILL': { name: 'Illinois Fighting Illini', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/356.png' }, 'NCAAF-DUKE': { name: 'Duke Blue Devils', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/150.png' }, 'NCAAF-IOWA': { name: 'Iowa Hawkeyes', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2294.png' }, 'NCAAF-ISU': { name: 'Iowa State Cyclones', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/66.png' }, 'NCAAF-FIU': { name: 'FIU Panthers', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2229.png' }, 'NCAAF-PSU': { name: 'Penn State Nittany Lions', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/213.png' }, 'NCAAF-BAY': { name: 'Baylor Bears', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/239.png' }, 'NCAAF-SMU': { name: 'SMU Mustangs', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2567.png' }, 'NCAAF-TAMC': { name: 'Texas A&amp;M-Commerce Lions', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2623.png' }, 'NCAAF-FSU': { name: 'Florida State Seminoles', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/52.png' }, 'NCAAF-KENNST': { name: 'Kennesaw State Owls', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2320.png' }, 'NCAAF-IND': { name: 'Indiana Hoosiers', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/84.png' }, 'NCAAF-KENT': { name: 'Kent State Golden Flashes', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2309.png' }, 'NCAAF-TTU': { name: 'Texas Tech Red Raiders', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2641.png' }, 'NCAAF-UVA': { name: 'Virginia Cavaliers', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/258.png' }, 'NCAAF-NCST': { name: 'NC State Wolfpack', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/152.png' }, 'NCAAF-CONN': { name: 'UConn Huskies', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/41.png' }, 'NCAAF-SYR': { name: 'Syracuse Orange', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/183.png' }, 'NCAAF-LIB': { name: 'Liberty Flames', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2335.png' }, 'NCAAF-JSU': { name: 'Jacksonville State Gamecocks', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2305.png' }, 'NCAAF-CMU': { name: 'Central Michigan Chippewas', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2117.png' }, 'NCAAF-PITT': { name: 'Pittsburgh Panthers', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/221.png' }, 'NCAAF-NWST': { name: 'Northwestern State Demons', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2448.png' }, 'NCAAF-MINN': { name: 'Minnesota Golden Gophers', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/135.png' }, 'NCAAF-SHU': { name: 'Sacred Heart Pioneers', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/2530.png' }, 'NCAAF-LEH': { name: 'Lehigh Mountain Hawks', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/105.png' }, 'NCAAF-USU': { name: 'Utah State Aggies', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/328.png' }, 'NCAAF-TAMU': { name: 'Texas A&amp;M Aggies', logo: 'https://a.espncdn.com/i/teamlogos/ncaaf/500/245.png' }, 'NBA-BOS': { name: 'Boston Celtics', logo: 'https://a.espncdn.com/i/teamlogos/nba/500/bos.png' },'NBA-BKN': { name: 'Brooklyn Nets', logo: 'https://a.espncdn.com/i/teamlogos/nba/500/bkn.png' },'NBA-NYK': { name: 'New York Knicks', logo: 'https://a.espncdn.com/i/teamlogos/nba/500/nyk.png' },'NBA-PHI': { name: 'Philadelphia 76ers', logo: 'https://a.espncdn.com/i/teamlogos/nba/500/phi.png' },'NBA-TOR': { name: 'Toronto Raptors', logo: 'https://a.espncdn.com/i/teamlogos/nba/500/tor.png' },'NBA-CHI': { name: 'Chicago Bulls', logo: 'https://a.espncdn.com/i/teamlogos/nba/500/chi.png' },'NBA-CLE': { name: 'Cleveland Cavaliers', logo: 'https://a.espncdn.com/i/teamlogos/nba/500/cle.png' }, 'SOCCER-LIV': { name: 'Liverpool', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/364.png' },'SOCCER-MCFC': { name: 'Manchester City', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/382.png' },'SOCCER-ARS': { name: 'Arsenal', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/359.png' },'NHL-ANA':{name:'Anaheim Ducks',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/ana.png'},'NHL-ARI':{name:'Arizona Coyotes',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/ari.png'},'NHL-BOS':{name:'Boston Bruins',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/bos.png'},'NHL-BUF':{name:'Buffalo Sabres',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/buf.png'},'NHL-CGY':{name:'Calgary Flames',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/cgy.png'},'NHL-CAR':{name:'Carolina Hurricanes',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/car.png'},'NHL-CHI':{name:'Chicago Blackhawks',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/chi.png'},'NHL-COL':{name:'Colorado Avalanche',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/col.png'},'NHL-CBJ':{name:'Columbus Blue Jackets',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/cbj.png'},'NHL-DAL':{name:'Dallas Stars',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/dal.png'},'NHL-DET':{name:'Detroit Red Wings',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/det.png'},'NHL-EDM':{name:'Edmonton Oilers',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/edm.png'},'NHL-FLA':{name:'Florida Panthers',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/fla.png'},'NHL-LAK':{name:'Los Angeles Kings',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/lak.png'},'NHL-MIN':{name:'Minnesota Wild',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/min.png'},'NHL-MTL':{name:'Montreal Canadiens',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/mtl.png'},'NHL-NSH':{name:'Nashville Predators',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/nsh.png'},'NHL-NJD':{name:'New Jersey Devils',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/njd.png'},'NHL-NYI':{name:'New York Islanders',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/nyi.png'},'NHL-NYR':{name:'New York Rangers',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/nyr.png'},'NHL-OTT':{name:'Ottawa Senators',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/ott.png'},'NHL-PHI':{name:'Philadelphia Flyers',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/phi.png'},'NHL-PIT':{name:'Pittsburgh Penguins',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/pit.png'},'NHL-SJS':{name:'San Jose Sharks',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/sjs.png'},'NHL-SEA':{name:'Seattle Kraken',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/sea.png'},'NHL-STL':{name:'St. Louis Blues',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/stl.png'},'NHL-TBL':{name:'Tampa Bay Lightning',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/tb.png'},'NHL-TOR':{name:'Toronto Maple Leafs',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/tor.png'},'NHL-VAN':{name:'Vancouver Canucks',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/van.png'},'NHL-VGK':{name:'Vegas Golden Knights',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/vgk.png'},'NHL-WSH':{name:'Washington Capitals',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/wsh.png'},'NHL-WPG':{name:'Winnipeg Jets',logo:'https://a.espncdn.com/i/teamlogos/nhl/500/wpg.png'},'WNBA-ATL':{name:'Atlanta Dream',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/atl.png'},'WNBA-CHI':{name:'Chicago Sky',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/chi.png'},'WNBA-CON':{name:'Connecticut Sun',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/conn.png'},'WNBA-DAL':{name:'Dallas Wings',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/dal.png'},'WNBA-IND':{name:'Indiana Fever',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/ind.png'},'WNBA-LV':{name:'Las Vegas Aces',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/lv.png'},'WNBA-LA':{name:'Los Angeles Sparks',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/la.png'},'WNBA-MIN':{name:'Minnesota Lynx',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/min.png'},'WNBA-NY':{name:'New York Liberty',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/ny.png'},'WNBA-PHO':{name:'Phoenix Mercury',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/phx.png'},'WNBA-SEA':{name:'Seattle Storm',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/sea.png'},'WNBA-WSH':{name:'Washington Mystics',logo:'https://a.espncdn.com/i/teamlogos/wnba/500/wsh.png'},'SOCCER-MUN': { name: 'Manchester United', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/360.png' }, 'SOCCER-CHE': { name: 'Chelsea', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/363.png' }, 'SOCCER-JUV': { name: 'Juventus', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/111.png' }, 'SOCCER-INT': { name: 'Inter Milan', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/110.png' }, 'SOCCER-ACM': { name: 'AC Milan', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/103.png' }, 'SOCCER-ROM': { name: 'AS Roma', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/114.png' }, 'SOCCER-RMA': { name: 'Real Madrid', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/86.png' }, 'SOCCER-BAR': { name: 'Barcelona', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/83.png' }, 'SOCCER-ATM': { name: 'Atlético Madrid', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/1068.png' }, 'SOCCER-SEV': { name: 'Sevilla', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/91.png' }, 'SOCCER-BAY': { name: 'Bayern Munich', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/132.png' }, 'SOCCER-BVB': { name: 'Borussia Dortmund', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/124.png' }, 'SOCCER-RBL': { name: 'RB Leipzig', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/9618.png' }, 'SOCCER-B04': { name: 'Bayer Leverkusen', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/131.png' }, 'SOCCER-PSG': { name: 'Paris Saint-Germain', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/160.png' }, 'SOCCER-MAR': { name: 'Marseille', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/176.png' }, 'SOCCER-LYO': { name: 'Lyon', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/162.png' }, 'SOCCER-MON': { name: 'AS Monaco', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/174.png' }, 'SOCCER-AJA': { name: 'Ajax', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/140.png' }, 'SOCCER-PSV': { name: 'PSV Eindhoven', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/144.png' }, 'SOCCER-FEY': { name: 'Feyenoord', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/142.png' }, 'SOCCER-BEN': { name: 'Benfica', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/190.png' }, 'SOCCER-POR': { name: 'FC Porto', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/191.png' }, 'SOCCER-BRU': { name: 'Club Brugge', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/198.png' }, 'SOCCER-AND': { name: 'Anderlecht', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/197.png' }, 'SOCCER-GAL': { name: 'Galatasaray', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/346.png' }, 'SOCCER-FEN': { name: 'Fenerbahçe', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/347.png' }, 'SOCCER-SLP': { name: 'Slavia Prague', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/1715.png' }, 'SOCCER-SPP': { name: 'Sparta Prague', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/1714.png' }, 'SOCCER-CEL': { name: 'Celtic', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/238.png' }, 'SOCCER-RAN': { name: 'Rangers', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/237.png' }, 'SOCCER-YBO': { name: 'Young Boys', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/609.png' }, 'SOCCER-BAS': { name: 'FC Basel', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/608.png' }, 'SOCCER-SAL': { name: 'Red Bull Salzburg', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/284.png' },<span class="Apple-converted-space"> </span></p>
<p class="p1">'SOCCER-STU': { name: 'Sturm Graz', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/296.png' }, 'SOCCER-BOD': { name: 'FK Bodø/Glimt', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/4144.png' }, 'SOCCER-MOL': { name: 'Molde FK', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/314.png' }, 'SOCCER-OLY': { name: 'Olympiacos', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/259.png' }, 'SOCCER-PAO': { name: 'PAOK FC', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/262.png' }, 'SOCCER-CRE': { name: 'Cremonese', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/104.png' }, 'SOCCER-VER': { name: 'Hellas Verona', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/109.png' }, 'SOCCER-GEN': { name: 'Genoa', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/108.png' }, 'SOCCER-COM': { name: 'Como', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/3858.png' }, 'SOCCER-MAL': { name: 'Mallorca', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/92.png' }, 'SOCCER-ESP': { name: 'Espanyol', logo: 'https://a.espncdn.com/i/teamlogos/soccer/500/88.png' }</p>
<p class="p1">};</p>
<p class="p1"><span class="Apple-converted-space">            </span>const TEAM_ALIAS_TO_CODE = { 'boston red sox': 'BOS', 'bos red sox': 'BOS', 'red sox': 'BOS', 'chicago cubs': 'CHC', 'chi cubs': 'CHC', 'cubs': 'CHC', 'chicago white sox': 'CWS', 'chi white sox': 'CWS', 'white sox': 'CWS', 'pittsburgh pirates': 'PIT', 'pit pirates': 'PIT', 'pirates': 'PIT', 'san diego padres': 'SD', 'sd padres': 'SD', 'padres': 'SD', 'washington nationals': 'WSH', 'was nationals': 'WSH', 'nationals': 'WSH', 'los angeles angels': 'LAA', 'la angels': 'LAA', 'angels': 'LAA', 'philadelphia phillies': 'PHI', 'phi phillies': 'PHI', 'phillies': 'PHI', 'san francisco giants': 'SF', 'sf giants': 'SF', 'giants': 'SF', 'toronto blue jays': 'TOR', 'tor blue jays': 'TOR', 'blue jays': 'TOR', 'new york yankees': 'NYY', 'ny yankees': 'NYY', 'yankees': 'NYY', 'atlanta braves': 'ATL', 'atl braves': 'ATL', 'braves': 'ATL', 'milwaukee brewers': 'MIL', 'mil brewers': 'MIL', 'brewers': 'MIL', 'los angeles dodgers': 'LAD', 'la dodgers': 'LAD', 'dodgers': 'LAD', 'houston astros': 'HOU', 'hou astros': 'HOU', 'astros': 'HOU', 'seattle mariners': 'SEA', 'sea mariners': 'SEA', 'mariners': 'SEA', 'cincinnati reds': 'CIN', 'cin reds': 'CIN', 'reds': 'CIN', 'st louis cardinals': 'STL', 'stl cardinals': 'STL', 'cardinals': 'STL', 'tampa bay rays': 'TB', 'tb rays': 'TB', 'rays': 'TB', 'baltimore orioles': 'BAL', 'bal orioles': 'BAL', 'orioles': 'BAL', 'cleveland guardians': 'CLE', 'cle guardians': 'CLE', 'guardians': 'CLE', 'minnesota twins': 'MIN', 'min twins': 'MIN', 'twins': 'MIN', 'kansas city royals': 'KC', 'kc royals': 'KC', 'royals': 'KC', 'detroit tigers': 'DET', 'det tigers': 'DET', 'tigers': 'DET', 'texas rangers': 'TEX', 'tex rangers': 'TEX', 'rangers': 'TEX', 'oakland athletics': 'OAK', 'oak athletics': 'OAK', 'athletics': 'OAK', 'new york mets': 'NYM', 'ny mets': 'NYM', 'mets': 'NYM', 'miami marlins': 'MIA', 'mia marlins': 'MIA', 'marlins': 'MIA', 'arizona diamondbacks': 'ARI', 'ari diamondbacks': 'ARI', 'd-backs': 'ARI', 'diamondbacks': 'ARI', 'colorado rockies': 'COL', 'col rockies': 'COL', 'rockies': 'COL', 'hamilton tiger-cats': 'CFL-HAM', 'tiger-cats': 'CFL-HAM', 'ticats': 'CFL-HAM', 'calgary stampeders': 'CFL-CGY', 'stampeders': 'CFL-CGY', 'toronto argonauts': 'CFL-TOR', 'argonauts': 'CFL-TOR', 'argos': 'CFL-TOR', 'saskatchewan roughriders': 'CFL-SSK', 'roughriders': 'CFL-SSK', 'riders': 'CFL-SSK', 'bc lions': 'CFL-BC', 'lions': 'CFL-BC', 'edmonton elks': 'CFL-EDM', 'elks': 'CFL-EDM', 'winnipeg blue bombers': 'CFL-WPG', 'blue bombers': 'CFL-WPG', 'bombers': 'CFL-WPG', 'montreal alouettes': 'CFL-MTL', 'alouettes': 'CFL-MTL', 'als': 'CFL-MTL', 'ottawa redblacks': 'CFL-OTT', 'redblacks': 'CFL-OTT', 'arizona cardinals': 'NFL-ARI', 'atlanta falcons': 'NFL-ATL', 'baltimore ravens': 'NFL-BAL', 'ravens': 'NFL-BAL', 'buffalo bills': 'NFL-BUF', 'bills': 'NFL-BUF', 'carolina panthers': 'NFL-CAR', 'panthers': 'NFL-CAR', 'chicago bears': 'NFL-CHI', 'bears': 'NFL-CHI', 'cincinnati bengals': 'NFL-CIN', 'bengals': 'NFL-CIN', 'cleveland browns': 'NFL-CLE', 'browns': 'NFL-CLE', 'dallas cowboys': 'NFL-DAL', 'cowboys': 'NFL-DAL', 'denver broncos': 'NFL-DEN', 'broncos': 'NFL-DEN', 'detroit lions': 'NFL-DET', 'green bay packers': 'NFL-GB', 'packers': 'NFL-GB', 'green bay': 'NFL-GB', 'houston texans': 'NFL-HOU', 'texans': 'NFL-HOU', 'indianapolis colts': 'NFL-IND', 'colts': 'NFL-IND', 'jacksonville jaguars': 'NFL-JAX', 'jaguars': 'NFL-JAX', 'kansas city chiefs': 'NFL-KC', 'chiefs': 'NFL-KC', 'las vegas raiders': 'NFL-LV', 'raiders': 'NFL-LV', 'los angeles chargers': 'NFL-LAC', 'chargers': 'NFL-LAC', 'los angeles rams': 'NFL-LAR', 'rams': 'NFL-LAR', 'miami dolphins': 'NFL-MIA', 'dolphins': 'NFL-MIA', 'minnesota vikings': 'NFL-MIN', 'vikings': 'NFL-MIN', 'new england patriots': 'NFL-NE', 'patriots': 'NFL-NE', 'new orleans saints': 'NFL-NO', 'saints': 'NFL-NO', 'new york giants': 'NFL-NYG', 'new york jets': 'NFL-NYJ', 'philadelphia eagles': 'NFL-PHI', 'eagles': 'NFL-PHI', 'pittsburgh steelers': 'NFL-PIT', 'steelers': 'NFL-PIT', 'san francisco 49ers': 'NFL-SF', '49ers': 'NFL-SF', 'niners': 'NFL-SF', 'seattle seahawks': 'NFL-SEA', 'seahawks': 'NFL-SEA', 'tampa bay buccaneers': 'NFL-TB', 'buccaneers': 'NFL-TB', 'bucs': 'NFL-TB', 'tennessee titans': 'NFL-TEN', 'titans': 'NFL-TEN', 'washington commanders': 'NFL-WSH', 'commanders': 'NFL-WSH', 'san jose state': 'NCAAF-SJSU', 'texas': 'NCAAF-TEX', 'illinois': 'NCAAF-ILL', 'duke': 'NCAAF-DUKE', 'iowa': 'NCAAF-IOWA', 'iowa state': 'NCAAF-ISU', 'fiu': 'NCAAF-FIU', 'penn state': 'NCAAF-PSU', 'baylor': 'NCAAF-BAY', 'smu': 'NCAAF-SMU', 'east texas a&amp;m': 'NCAAF-TAMC', 'florida state': 'NCAAF-FSU', 'kennesaw state': 'NCAAF-KENNST', 'indiana': 'NCAAF-IND', 'kent state': 'NCAAF-KENT', 'texas tech': 'NCAAF-TTU', 'virginia': 'NCAAF-UVA', 'nc state': 'NCAAF-NCST', 'connecticut': 'NCAAF-CONN', 'uconn': 'NCAAF-CONN', 'syracuse': 'NCAAF-SYR', 'liberty': 'NCAAF-LIB', 'jacksonville state': 'NCAAF-JSU', 'central michigan': 'NCAAF-CMU', 'pittsburgh': 'NCAAF-PITT', 'pitt': 'NCAAF-PITT', 'northwestern state': 'NCAAF-NWST', 'minnesota': 'NCAAF-MINN', 'sacred heart': 'NCAAF-SHU', 'lehigh': 'NCAAF-LEH', 'utah state': 'NCAAF-USU', 'texas a&amp;m': 'NCAAF-TAMU', 'boston celtics': 'NBA-BOS', 'celtics': 'NBA-BOS', 'brooklyn nets': 'NBA-BKN', 'nets': 'NBA-BKN', 'new york knicks': 'NBA-NYK', 'knicks': 'NBA-NYK', 'philadelphia 76ers': 'NBA-PHI', '76ers': 'NBA-PHI', 'toronto raptors': 'NBA-TOR', 'raptors': 'NBA-TOR', 'chicago bulls': 'NBA-CHI', 'bulls': 'NBA-CHI', 'cleveland cavaliers': 'NBA-CLE', 'cavaliers': 'NBA-CLE', 'liverpool': 'SOCCER-LIV', 'manchester city': 'SOCCER-MCFC', 'man city': 'SOCCER-MCFC', 'arsenal': 'SOCCER-ARS','anaheim ducks':'NHL-ANA','arizona coyotes':'NHL-ARI','boston bruins':'NHL-BOS','bruins':'NHL-BOS','buffalo sabres':'NHL-BUF','sabres':'NHL-BUF','calgary flames':'NHL-CGY','flames':'NHL-CGY','carolina hurricanes':'NHL-CAR','hurricanes':'NHL-CAR','chicago blackhawks':'NHL-CHI','blackhawks':'NHL-CHI','colorado avalanche':'NHL-COL','avalanche':'NHL-COL','columbus blue jackets':'NHL-CBJ','blue jackets':'NHL-CBJ','dallas stars':'NHL-DAL','stars':'NHL-DAL','detroit red wings':'NHL-DET','red wings':'NHL-DET','edmonton oilers':'NHL-EDM','oilers':'NHL-EDM','florida panthers':'NHL-FLA','la kings':'NHL-LAK','los angeles kings':'NHL-LAK','minnesota wild':'NHL-MIN','wild':'NHL-MIN','montreal canadiens':'NHL-MTL','canadiens':'NHL-MTL','nashville predators':'NHL-NSH','predators':'NHL-NSH','new jersey devils':'NHL-NJD','devils':'NHL-NJD','new york islanders':'NHL-NYI','islanders':'NHL-NYI','new york rangers':'NHL-NYR','san jose sharks':'NHL-SJS','sharks':'NHL-SJS','seattle kraken':'NHL-SEA','kraken':'NHL-SEA','st louis blues':'NHL-STL','blues':'NHL-STL','tampa bay lightning':'NHL-TBL','lightning':'NHL-TBL','toronto maple leafs':'NHL-TOR','maple leafs':'NHL-TOR','vancouver canucks':'NHL-VAN','canucks':'NHL-VAN','vegas golden knights':'NHL-VGK','golden knights':'NHL-VGK','washington capitals':'NHL-WSH','capitals':'NHL-WSH','winnipeg jets':'NHL-WPG','jets':'NHL-WPG', 'atlanta dream': 'WNBA-ATL', 'dream': 'WNBA-ATL', 'chicago sky': 'WNBA-CHI', 'sky': 'WNBA-CHI', 'connecticut sun': 'WNBA-CON', 'sun': 'WNBA-CON', 'dallas wings': 'WNBA-DAL', 'wings': 'WNBA-DAL', 'indiana fever': 'WNBA-IND', 'fever': 'WNBA-IND', 'las vegas aces': 'WNBA-LV', 'aces': 'WNBA-LV', 'los angeles sparks': 'WNBA-LA', 'sparks': 'WNBA-LA', 'minnesota lynx': 'WNBA-MIN', 'lynx': 'WNBA-MIN', 'new york liberty': 'WNBA-NY', 'liberty': 'WNBA-NY', 'phoenix mercury': 'WNBA-PHO', 'mercury': 'WNBA-PHO', 'seattle storm': 'WNBA-SEA', 'storm': 'WNBA-SEA', 'washington mystics': 'WNBA-WSH', 'mystics': 'WNBA-WSH', 'manchester united': 'SOCCER-MUN', 'man united': 'SOCCER-MUN', 'manchester united fc': 'SOCCER-MUN', 'chelsea': 'SOCCER-CHE', 'chelsea fc': 'SOCCER-CHE', 'liverpool fc': 'SOCCER-LIV', 'manchester city fc': 'SOCCER-MCFC', 'arsenal fc': 'SOCCER-ARS', 'juventus': 'SOCCER-JUV', 'juventus fc': 'SOCCER-JUV', 'inter milan': 'SOCCER-INT', 'inter': 'SOCCER-INT', 'internazionale': 'SOCCER-INT', 'fc internazionale milano': 'SOCCER-INT', 'ac milan': 'SOCCER-ACM', 'as roma': 'SOCCER-ROM', 'roma': 'SOCCER-ROM', 'real madrid': 'SOCCER-RMA', 'real madrid cf': 'SOCCER-RMA', 'barcelona': 'SOCCER-BAR', 'fc barcelona': 'SOCCER-BAR', 'atlético madrid': 'SOCCER-ATM', 'atletico madrid': 'SOCCER-ATM', 'atletico de madrid': 'SOCCER-ATM', 'sevilla': 'SOCCER-SEV', 'sevilla fc': 'SOCCER-SEV', 'bayern munich': 'SOCCER-BAY', 'bayern': 'SOCCER-BAY', 'fc bayern munich': 'SOCCER-BAY', 'borussia dortmund': 'SOCCER-BVB', 'dortmund': 'SOCCER-BVB', 'rb leipzig': 'SOCCER-RBL', 'leipzig': 'SOCCER-RBL', 'bayer leverkusen': 'SOCCER-B04', 'leverkusen': 'SOCCER-B04', 'bayer 04 leverkusen': 'SOCCER-B04', 'paris saint-germain': 'SOCCER-PSG', 'psg': 'SOCCER-PSG', 'paris saint germain fc': 'SOCCER-PSG', 'marseille': 'SOCCER-MAR', 'olympique de marseille': 'SOCCER-MAR', 'lyon': 'SOCCER-LYO', 'olympique lyonnais': 'SOCCER-LYO', 'as monaco': 'SOCCER-MON', 'monaco': 'SOCCER-MON', 'as monaco fc': 'SOCCER-MON', 'ajax': 'SOCCER-AJA', 'afc ajax': 'SOCCER-AJA', 'psv eindhoven': 'SOCCER-PSV', 'psv': 'SOCCER-PSV', 'feyenoord': 'SOCCER-FEY', 'benfica': 'SOCCER-BEN', 'sl benfica': 'SOCCER-BEN', 'fc porto': 'SOCCER-POR', 'porto': 'SOCCER-POR', 'club brugge': 'SOCCER-BRU', 'club brugge kv': 'SOCCER-BRU', 'anderlecht': 'SOCCER-AND', 'rsc anderlecht': 'SOCCER-AND', 'galatasaray': 'SOCCER-GAL', 'galatasaray sk': 'SOCCER-GAL', 'fenerbahçe': 'SOCCER-FEN', 'fenerbahce': 'SOCCER-FEN', 'fenerbahce sk': 'SOCCER-FEN', 'slavia prague': 'SOCCER-SLP', 'sk slavia prague': 'SOCCER-SLP', 'sparta prague': 'SOCCER-SPP', 'ac sparta prague': 'SOCCER-SPP', 'celtic': 'SOCCER-CEL', 'celtic fc': 'SOCCER-CEL', 'rangers': 'SOCCER-RAN', 'rangers fc': 'SOCCER-RAN', 'young boys': 'SOCCER-YBO', 'bsc young boys': 'SOCCER-YBO', 'fc basel': 'SOCCER-BAS', 'fc basel 1893': 'SOCCER-BAS', 'red bull salzburg': 'SOCCER-SAL', 'rb salzburg': 'SOCCER-SAL', 'fc red bull salzburg': 'SOCCER-SAL', 'sturm graz': 'SOCCER-STU', 'sk sturm graz': 'SOCCER-STU', 'fk bodø/glimt': 'SOCCER-BOD', 'bodo glimt': 'SOCCER-BOD', 'fk bodo/glimt': 'SOCCER-BOD', 'molde fk': 'SOCCER-MOL', 'olympiacos': 'SOCCER-OLY', 'olympiacos fc': 'SOCCER-OLY', 'paok fc': 'SOCCER-PAO', 'cremonese': 'SOCCER-CRE', 'us cremonese': 'SOCCER-CRE', 'hellas verona': 'SOCCER-VER', 'hellas verona fc': 'SOCCER-VER', 'genoa': 'SOCCER-GEN', 'genoa cfc': 'SOCCER-GEN', 'como': 'SOCCER-COM', 'como 1907': 'SOCCER-COM', 'mallorca': 'SOCCER-MAL', 'rcd mallorca': 'SOCCER-MAL', 'espanyol': 'SOCCER-ESP', 'rcd espanyol': 'SOCCER-ESP' };</p>
<p class="p1"><span class="Apple-converted-space">            </span>const SPORT_MAP = { 'NFL': 'Football', 'CFL': 'Football', 'NCAAF': 'Football', 'MLB': 'Baseball', 'NBA': 'Basketball', 'WNBA': 'Basketball', 'SOCCER': 'Soccer', 'NHL': 'Hockey' };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function getTeamCode(name) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!name) return null;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const cleanedName = name.toLowerCase().replace(/[.'-]/g, '').replace(/&amp;/g, 'and').trim();</p>
<p class="p1"><span class="Apple-converted-space">                </span>return TEAM_ALIAS_TO_CODE[cleanedName] || null;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function getTeamInfo(messyName) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const teamCode = getTeamCode(messyName);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const fallbackData = { name: messyName || 'Unknown', logo: `https://placehold.co/96x96/e2e8f0/64748b?text=${(messyName || '?').substring(0,2)}` };</p>
<p class="p1"><span class="Apple-converted-space">                </span>return teamCode ? TEAMS_DATA[teamCode] : fallbackData;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function getGameSport(game) {</p>
<p class="p1"><span class="Apple-converted-space">                 </span>if (game.sport &amp;&amp; game.sport.toUpperCase() in SPORT_MAP) { return SPORT_MAP[game.sport.toUpperCase()]; }</p>
<p class="p1"><span class="Apple-converted-space">                </span>const awayCode = getTeamCode(game.away_team);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (awayCode &amp;&amp; awayCode.includes('-')) { const prefix = awayCode.split('-')[0].toUpperCase(); if (prefix in SPORT_MAP) return SPORT_MAP[prefix]; }</p>
<p class="p1"><span class="Apple-converted-space">                </span>const homeCode = getTeamCode(game.home_team);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (homeCode &amp;&amp; homeCode.includes('-')) { const prefix = homeCode.split('-')[0].toUpperCase(); if (prefix in SPORT_MAP) return SPORT_MAP[prefix]; }</p>
<p class="p1"><span class="Apple-converted-space">                </span>return 'Unknown';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- CORE LOGIC &amp; CALCULATIONS ---</p>
<p class="p1"><span class="Apple-converted-space">            </span>const calculateEV = (winProb, decimalOdds) =&gt; (winProb * (decimalOdds - 1)) - (1 - winProb);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>async function fetchAndAnalyzeGames() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const apiKey = localStorage.getItem('theOddsApiKey') || oddsApiKeyInput.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!apiKey) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showError("Please enter your API key from The Odds API in the settings.");</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>analyzeSection.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>processingState.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>errorState.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>gameListContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>resultsArea.classList.add('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Step 1: Fetch all active sports</p>
<p class="p1"><span class="Apple-converted-space">                    </span>processingText.textContent = 'Finding in-season sports...';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const sportsApiUrl = `https://api.the-odds-api.com/v4/sports/?apiKey=${apiKey}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const sportsResponse = await fetch(sportsApiUrl);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (!sportsResponse.ok) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const errorData = await sportsResponse.json().catch(() =&gt; ({ message: sportsResponse.statusText }));</p>
<p class="p1"><span class="Apple-converted-space">                        </span>throw new Error(`Failed to fetch sports list: ${errorData.message}`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const availableSports = await sportsResponse.json();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Step 2: Filter for the sports we care about</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const desiredSportsKeys = [</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'americanfootball_nfl', 'baseball_mlb', 'basketball_nba', 'icehockey_nhl', 'basketball_wnba',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'soccer_epl', 'soccer_italy_serie_a', 'soccer_spain_la_liga', 'soccer_germany_bundesliga',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'soccer_france_ligue_one', 'soccer_netherlands_eredivisie', 'soccer_portugal_primeira_liga',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'soccer_belgium_first_division_a', 'soccer_turkey_super_lig', 'soccer_czech_republic_liga',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'soccer_scotland_premiership', 'soccer_switzerland_super_league', 'soccer_austria_bundesliga',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'soccer_norway_eliteserien', 'soccer_greece_super_league'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const activeSportsToFetch = availableSports</p>
<p class="p1"><span class="Apple-converted-space">                        </span>.filter(sport =&gt; desiredSportsKeys.includes(sport.key) &amp;&amp; sport.active)</p>
<p class="p1"><span class="Apple-converted-space">                        </span>.map(sport =&gt; sport.key);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (activeSportsToFetch.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>showError("No games for the selected sports are currently in-season or available from the API. Please check back later.");</p>
<p class="p1"><span class="Apple-converted-space">                        </span>processingState.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>analyzeSection.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Step 3: Fetch odds for the active sports</p>
<p class="p1"><span class="Apple-converted-space">                    </span>processingText.textContent = `Fetching odds for ${activeSportsToFetch.length} active sport(s)...`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const regions = 'us';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const markets = 'h2h,spreads,totals';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const oddsFormat = 'decimal';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Set the time window for the next 24 hours</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const now = new Date();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const tomorrow = new Date(now.getTime() + 24 * 60 * 60 * 1000);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Format the date to YYYY-MM-DDTHH:mm:ssZ to match API docs precisely</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const commenceTimeTo = tomorrow.toISOString().slice(0, 19) + 'Z';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const promises = activeSportsToFetch.map(sportKey =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const apiUrl = `https://api.the-odds-api.com/v4/sports/${sportKey}/odds?apiKey=${apiKey}&amp;regions=${regions}&amp;markets=${markets}&amp;oddsFormat=${oddsFormat}&amp;commenceTimeTo=${commenceTimeTo}`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return fetch(apiUrl);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const responses = await Promise.all(promises);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>let allGames = [];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>for (const response of responses) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (!response.ok) {</p>
<p class="p1"><span class="Apple-converted-space">                             </span>// Try to get a more detailed error message from the API response body</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const errorData = await response.json().catch(() =&gt; ({ message: response.statusText }));</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.warn(`Failed to fetch odds for one sport (${response.url}): ${response.status} ${errorData.message || response.statusText}`);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>continue;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const data = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>allGames.push(...data);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (allGames.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>showError("No upcoming games found for the currently active sports.");</p>
<p class="p1"><span class="Apple-converted-space">                        </span>analyzeSection.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const transformedData = allGames.map(transformApiData).filter(g =&gt; g !== null);</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (transformedData.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>ALL_SPORTS_DATA = transformedData;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>displayGames(ALL_SPORTS_DATA);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>showError("Could not process the odds data. There might be no valid markets available for today's games.");</p>
<p class="p1"><span class="Apple-converted-space">                        </span>analyzeSection.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (err) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error("Failed to fetch odds:", err);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showError(`An error occurred: ${err.message}. Please check your API key and network connection.`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>analyzeSection.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} finally {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>processingState.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>function transformApiData(apiGame) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const bookmaker = apiGame.bookmakers?.[0];</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!bookmaker) return null; // Skip if no odds data</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const moneylineMarket = bookmaker.markets.find(m =&gt; m.key === 'h2h');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const spreadMarket = bookmaker.markets.find(m =&gt; m.key === 'spreads');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const totalMarket = bookmaker.markets.find(m =&gt; m.key === 'totals');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const moneylineAwayOutcome = moneylineMarket?.outcomes.find(o =&gt; o.name === apiGame.away_team);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const moneylineHomeOutcome = moneylineMarket?.outcomes.find(o =&gt; o.name === apiGame.home_team);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const spreadAwayOutcome = spreadMarket?.outcomes.find(o =&gt; o.name === apiGame.away_team);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const spreadHomeOutcome = spreadMarket?.outcomes.find(o =&gt; o.name === apiGame.home_team);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const totalOverOutcome = totalMarket?.outcomes.find(o =&gt; o.name === 'Over');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const totalUnderOutcome = totalMarket?.outcomes.find(o =&gt; o.name === 'Under');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>let sport = 'Unknown';</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (apiGame.sport_key.includes('nfl')) sport = 'NFL';</p>
<p class="p1"><span class="Apple-converted-space">                </span>else if (apiGame.sport_key.includes('ncaaf')) sport = 'NCAAF';</p>
<p class="p1"><span class="Apple-converted-space">                </span>else if (apiGame.sport_key.includes('mlb')) sport = 'MLB';</p>
<p class="p1"><span class="Apple-converted-space">                </span>else if (apiGame.sport_key.includes('nba')) sport = 'NBA';</p>
<p class="p1"><span class="Apple-converted-space">                </span>else if (apiGame.sport_key.includes('wnba')) sport = 'WNBA';</p>
<p class="p1"><span class="Apple-converted-space">                </span>else if (apiGame.sport_key.includes('soccer')) sport = 'SOCCER';</p>
<p class="p1"><span class="Apple-converted-space">                </span>else if (apiGame.sport_key.includes('nhl')) sport = 'NHL';</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>return {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>sport: sport,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>away_team: apiGame.away_team,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>home_team: apiGame.home_team,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>away_player_info: null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>home_player_info: null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>moneyline_away: moneylineAwayOutcome?.price || null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>moneyline_home: moneylineHomeOutcome?.price || null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>spread_away: spreadAwayOutcome?.point || null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>spread_away_odds: spreadAwayOutcome?.price || null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>spread_home: spreadHomeOutcome?.point || null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>spread_home_odds: spreadHomeOutcome?.price || null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>total_over: totalOverOutcome?.point || null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>total_over_odds: totalOverOutcome?.price || null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>total_under: totalUnderOutcome?.point || null,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>total_under_odds: totalUnderOutcome?.price || null,</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function createGameCard(game, index) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const gameId = `game-${index}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const card = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.className = 'game-card';</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.id = gameId;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.dataset.gameIndex = index;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const gameSport = getGameSport(game);</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.dataset.sport = gameSport;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const awayTeamInfo = getTeamInfo(game.away_team);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const homeTeamInfo = getTeamInfo(game.home_team);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const awayAmericanOdds = game.moneyline_away ? (game.moneyline_away &gt;= 2 ? (game.moneyline_away - 1) * 100 : -100 / (game.moneyline_away - 1)) : null;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const homeAmericanOdds = game.moneyline_home ? (game.moneyline_home &gt;= 2 ? (game.moneyline_home - 1) * 100 : -100 / (game.moneyline_home - 1)) : null;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const impliedAway = game.moneyline_away ? 1 / game.moneyline_away : 0.5;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const impliedHome = game.moneyline_home ? 1 / game.moneyline_home : 0.5;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const totalImplied = impliedAway + impliedHome;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const normalizedAwayProb = totalImplied &gt; 0 ? impliedAway / totalImplied : 0.5;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const initialSliderValue = Math.round(normalizedAwayProb * 1000);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>card.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="relative"&gt;&lt;span class="absolute -top-6 -left-6 text-xs font-bold uppercase px-3 py-1 rounded-br-lg rounded-tl-xl" style="background-color: var(--accent-color-light); color: var(--accent-text-dark);"&gt;${gameSport}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid md:grid-cols-2 gap-x-6 gap-y-8 items-start pt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- Team Matchup --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-around text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex flex-col items-center space-y-1 w-2/5"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;img src="${awayTeamInfo.logo}" alt="${awayTeamInfo.name}" class="h-16 w-16 md:h-20 md:w-20 object-contain mb-1" onerror="this.src='https://placehold.co/96x96/e2e8f0/64748b?text=${awayTeamInfo.name.substring(0,1)}'; this.onerror=null;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="font-bold text-sm md:text-base leading-tight"&gt;${awayTeamInfo.name}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-xs text-secondary h-6"&gt;${game.away_player_info || ''}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${awayAmericanOdds ? `&lt;span class="font-semibold text-lg" style="color: var(--accent-color);"&gt;${awayAmericanOdds &gt; 0 ? '+' : ''}${awayAmericanOdds.toFixed(0)}&lt;/span&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="font-bold text-xl text-secondary pb-10"&gt;VS&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex flex-col items-center space-y-1 w-2/5"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;img src="${homeTeamInfo.logo}" alt="${homeTeamInfo.name}" class="h-16 w-16 md:h-20 md:w-20 object-contain mb-1" onerror="this.src='https://placehold.co/96x96/e2e8f0/64748b?text=${homeTeamInfo.name.substring(0,1)}'; this.onerror=null;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="font-bold text-sm md:text-base leading-tight"&gt;${homeTeamInfo.name}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-xs text-secondary h-6"&gt;${game.home_player_info || ''}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${homeAmericanOdds ? `&lt;span class="font-semibold text-lg" style="color: var(--accent-color);"&gt;${homeAmericanOdds &gt; 0 ? '+' : ''}${homeAmericanOdds.toFixed(0)}&lt;/span&gt;` : ''}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- Controls &amp; Results --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border-t-2 md:border-t-0 md:border-l-2 pt-6 md:pt-0 md:pl-6" style="border-color: var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium mb-2 text-center"&gt;Your Estimated True Probability&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center justify-between text-center font-bold text-lg mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="number" step="0.1" min="0" max="100" id="${gameId}-away-prob-input" value="${(normalizedAwayProb * 100).toFixed(1)}" class="prob-input"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="number" step="0.1" min="0" max="100" id="${gameId}-home-prob-input" value="${((1 - normalizedAwayProb) * 100).toFixed(1)}" class="prob-input"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center space-x-2"&gt;&lt;input type="range" min="0" max="1000" value="${initialSliderValue}" class="flex-1 prob-slider" data-game-index="${index}" data-initial-value="${initialSliderValue}"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="mt-4 flex justify-center items-center space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button class="utility-btn fifty-fifty-btn text-xs" data-game-index="${index}"&gt;50/50&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button class="utility-btn reset-prob-btn text-xs" data-game-index="${index}"&gt;Reset&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="${gameId}-results" class="mt-4 space-y-3"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>return card;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- UI &amp; STATE MANAGEMENT ---</p>
<p class="p1"><span class="Apple-converted-space">            </span>function showError(message, isPartial = false) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>errorState.innerHTML = message; // Use innerHTML to render links</p>
<p class="p1"><span class="Apple-converted-space">                </span>errorState.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!isPartial) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>processingState.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>analyzeSection.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>function resetApp() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>resultsArea.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>analyzeSection.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>ALL_SPORTS_DATA = [];<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>gameCardElements = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>gameListContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>errorState.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>evFilterToggle.checked = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>sortSelect.value = 'default';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>function updateSummaryDashboard() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const totalGames = ALL_SPORTS_DATA.length;</p>
<p class="p1"><span class="Apple-converted-space">                </span>let positiveEvOpps = 0;</p>
<p class="p1"><span class="Apple-converted-space">                </span>let maxEv = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>gameCardElements.forEach(card =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (card.dataset.positiveEv === 'true') {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>positiveEvOpps++;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>maxEv = Math.max(maxEv, parseFloat(card.dataset.maxEv) || 0);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const impliedOdds = maxEv &gt; 0 ? (1 / (1-maxEv)) : 'N/A';</p>
<p class="p1"><span class="Apple-converted-space">                </span>const americanOdds = maxEv &gt; 0 ? (impliedOdds &gt;= 2 ? `+${((impliedOdds - 1) * 100).toFixed(0)}` : `${(-100 / (impliedOdds - 1)).toFixed(0)}`) : 'N/A';</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>summaryDashboard.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-secondary"&gt;Total Games&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-2xl font-bold"&gt;${totalGames}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-secondary"&gt;+EV Opportunities&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-2xl font-bold text-green-500"&gt;${positiveEvOpps}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-secondary"&gt;Highest EV Found&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-2xl font-bold text-green-500"&gt;${maxEv &gt; 0 ? `+${(maxEv * 100).toFixed(2)}%` : '0%'}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                     </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-secondary"&gt;Implied Odds&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-2xl font-bold"&gt;${americanOdds}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>function displayGames(games) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>gameListContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>gameCardElements = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (games &amp;&amp; games.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>games.forEach((game, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const card = createGameCard(game, index);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>gameCardElements.push(card);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const slider = card.querySelector('.prob-slider');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const awayProb = parseFloat(slider.value) / 1000;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>calculateAndDisplayResults(index, awayProb);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resultsArea.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>displayStrategyControls(games);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>applyFiltersAndSorting();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>attachEventListeners();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateSummaryDashboard();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showError("No valid games could be displayed from the API response.");</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resultsArea.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>function displayStrategyControls(games) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const sports = [...new Set(games.map(getGameSport))].filter(s =&gt; s !== 'Unknown').sort();</p>
<p class="p1"><span class="Apple-converted-space">                </span>strategyOptionsContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (sports.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>sports.forEach(sport =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const controlEl = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>controlEl.className = 'flex flex-col items-center';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>controlEl.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label for="strategy-${sport}" class="text-sm font-medium mb-1"&gt;${sport}&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;select id="strategy-${sport}" data-sport="${sport}" class="strategy-select text-sm rounded-md p-1 w-full" style="background-color: var(--input-bg); border: 1px solid var(--border-color);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="take"&gt;Take Winner&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="fade"&gt;Fade Winner&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="ignore"&gt;Ignore&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>strategyOptionsContainer.appendChild(controlEl);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if(sport === 'Baseball' || sport === 'Soccer') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>controlEl.querySelector('select').value = 'fade';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>strategyControls.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>generateParlayBtn.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>strategyControls.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>generateParlayBtn.disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function calculateAndDisplayResults(gameIndex, awayProb) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const game = ALL_SPORTS_DATA[gameIndex];</p>
<p class="p1"><span class="Apple-converted-space">                </span>const card = document.getElementById(`game-${gameIndex}`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!card) return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const resultsContainer = card.querySelector(`#game-${gameIndex}-results`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>resultsContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>const homeProb = 1 - awayProb;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>let maxPositiveEv = 0;</p>
<p class="p1"><span class="Apple-converted-space">                </span>let hasPositiveEv = false;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const createResultElement = (ev, label, odds) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(!odds) return document.createDocumentFragment(); // Return an empty fragment if odds are null</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (ev &gt; 0) { hasPositiveEv = true; maxPositiveEv = Math.max(maxPositiveEv, ev); }</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const el = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.className = `result-display ${ev &gt; 0 ? 'positive-ev' : 'negative-ev'}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const oddsText = odds &gt;= 2 ? `+${((odds - 1) * 100).toFixed(0)}` : `${(-100 / (odds - 1)).toFixed(0)}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const evText = ev &gt; 0 ? `+${(ev * 100).toFixed(2)}%` : `${(ev * 100).toFixed(2)}%`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.innerHTML = `&lt;span&gt;&lt;strong&gt;${label}&lt;/strong&gt; &lt;span class="text-xs text-secondary"&gt;${oddsText}&lt;/span&gt;&lt;/span&gt; &lt;span class="font-bold"&gt;${evText}&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return el;</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Moneyline</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (game.moneyline_away &amp;&amp; game.moneyline_home) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const awayMLEV = calculateEV(awayProb, game.moneyline_away);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const homeMLEV = calculateEV(homeProb, game.moneyline_home);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resultsContainer.appendChild(createResultElement(awayMLEV, getTeamInfo(game.away_team).name, game.moneyline_away));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resultsContainer.appendChild(createResultElement(homeMLEV, getTeamInfo(game.home_team).name, game.moneyline_home));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Spread</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (game.spread_away_odds &amp;&amp; game.spread_home_odds) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const awaySpreadEV = calculateEV(awayProb, game.spread_away_odds);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const homeSpreadEV = calculateEV(homeProb, game.spread_home_odds);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resultsContainer.appendChild(createResultElement(awaySpreadEV, `${getTeamInfo(game.away_team).name} ${game.spread_away &gt; 0 ? '+' : ''}${game.spread_away}`, game.spread_away_odds));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resultsContainer.appendChild(createResultElement(homeSpreadEV, `${getTeamInfo(game.home_team).name} ${game.spread_home &gt; 0 ? '+' : ''}${game.spread_home}`, game.spread_home_odds));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Total</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (game.total_over_odds &amp;&amp; game.total_under_odds) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const overTotalEV = calculateEV(awayProb, game.total_over_odds);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const underTotalEV = calculateEV(homeProb, game.total_under_odds);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resultsContainer.appendChild(createResultElement(overTotalEV, `Over ${game.total_over}`, game.total_over_odds));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resultsContainer.appendChild(createResultElement(underTotalEV, `Under ${game.total_under}`, game.total_under_odds));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>card.dataset.maxEv = maxPositiveEv;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.dataset.positiveEv = hasPositiveEv;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function applyFiltersAndSorting() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const showPositiveOnly = evFilterToggle.checked;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const sortBy = sortSelect.value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>let cardsToDisplay = [...gameCardElements];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (showPositiveOnly) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cardsToDisplay = cardsToDisplay.filter(card =&gt; card.dataset.positiveEv === 'true');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (sortBy === 'highest-ev') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cardsToDisplay.sort((a, b) =&gt; parseFloat(b.dataset.maxEv) - parseFloat(a.dataset.maxEv));</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cardsToDisplay.sort((a, b) =&gt; parseInt(a.dataset.gameIndex) - parseInt(b.dataset.gameIndex));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>gameListContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>cardsToDisplay.forEach(card =&gt; gameListContainer.appendChild(card));</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const hasPositiveEvGames = gameCardElements.some(card =&gt; card.dataset.positiveEv === 'true');</p>
<p class="p1"><span class="Apple-converted-space">                </span>copyBtn.disabled = !hasPositiveEvGames;</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateSummaryDashboard();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- EVENT HANDLERS ---</p>
<p class="p1"><span class="Apple-converted-space">            </span>function updateCardFromSlider(gameIndex, sliderValue) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const awayProbPercent = sliderValue / 10;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const awayInput = document.getElementById(`game-${gameIndex}-away-prob-input`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const homeInput = document.getElementById(`game-${gameIndex}-home-prob-input`);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>if(document.activeElement !== awayInput) awayInput.value = awayProbPercent.toFixed(1);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if(document.activeElement !== homeInput) homeInput.value = (100 - awayProbPercent).toFixed(1);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>calculateAndDisplayResults(gameIndex, awayProbPercent / 100);</p>
<p class="p1"><span class="Apple-converted-space">                </span>applyFiltersAndSorting();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function updateCardFromInput(gameIndex, changedInput, otherInput) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let value = parseFloat(changedInput.value);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (isNaN(value) || value &lt; 0) value = 0;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (value &gt; 100) value = 100;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const slider = document.querySelector(`.prob-slider[data-game-index="${gameIndex}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (changedInput.id.includes('away')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>slider.value = value * 10;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>otherInput.value = (100 - value).toFixed(1);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else { // home changed</p>
<p class="p1"><span class="Apple-converted-space">                    </span>slider.value = (100 - value) * 10;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>otherInput.value = (100 - value).toFixed(1);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>calculateAndDisplayResults(gameIndex, parseFloat(slider.value) / 1000);</p>
<p class="p1"><span class="Apple-converted-space">                </span>applyFiltersAndSorting();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>function handleResetProbability(e) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const gameIndex = e.dataset.gameIndex;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const slider = document.querySelector(`.prob-slider[data-game-index="${gameIndex}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (slider) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>slider.value = slider.dataset.initialValue;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>slider.dispatchEvent(new Event('input', { bubbles: true }));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>function handle50PercentClick(e) {</p>
<p class="p1"><span class="Apple-converted-space">                 </span>const gameIndex = e.dataset.gameIndex;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const slider = document.querySelector(`.prob-slider[data-game-index="${gameIndex}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (slider) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>slider.value = 500;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>slider.dispatchEvent(new Event('input', { bubbles: true }));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>function handleCopyClick() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let textToCopy = "Audit the Odds - +EV Opportunities\n\n";</p>
<p class="p1"><span class="Apple-converted-space">                </span>gameCardElements.forEach((card) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                     </span>if (card.dataset.positiveEv === 'true') {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const gameIndex = card.dataset.gameIndex;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const game = ALL_SPORTS_DATA[gameIndex];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const awayTeamInfo = getTeamInfo(game.away_team);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const homeTeamInfo = getTeamInfo(game.home_team);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>textToCopy += `------------------------------\n${awayTeamInfo.name} vs. ${homeTeamInfo.name}\n`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>card.querySelectorAll('.positive-ev').forEach(resultEl =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const winnerName = resultEl.querySelector('strong').textContent;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const evText = resultEl.querySelector('span:last-child').textContent;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>let probabilityText = '';</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if(winnerName.includes(awayTeamInfo.name)) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>probabilityText = document.getElementById(`game-${gameIndex}-away-prob-input`).value;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>} else if (winnerName.includes(homeTeamInfo.name)) {</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>probabilityText = document.getElementById(`game-${gameIndex}-home-prob-input`).value;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>const sliderVal = document.querySelector(`.prob-slider[data-game-index="${gameIndex}"]`).value;</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>probabilityText = `${(sliderVal/10).toFixed(1)}%`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>textToCopy += `WINNER: ${winnerName} (EV: ${evText}) | Your Prob: ${probabilityText}%\n`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>});</p>
<p class="p1"><span class="Apple-converted-space">                        </span>textToCopy += "\n";</p>
<p class="p1"><span class="Apple-converted-space">                       </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>copyToClipboard(textToCopy, copyBtnText, 'Copy +EV Games');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>function handleGenerateParlayClick() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const strategies = {};</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.querySelectorAll('.strategy-select').forEach(select =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>strategies[select.dataset.sport] = select.value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const primaryPicks = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>const fillerPicks = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>const usedGameIndices = new Set();</p>
<p class="p1"><span class="Apple-converted-space">                </span>const PARLAY_CAP = 20;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Step 1: Find all +EV moneyline picks based on strategy</p>
<p class="p1"><span class="Apple-converted-space">                </span>ALL_SPORTS_DATA.forEach((game, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const sport = getGameSport(game);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const strategy = strategies[sport];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (strategy === 'ignore' || !game.moneyline_away || !game.moneyline_home) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const awayEV = calculateEV(0.5, game.moneyline_away);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const homeEV = calculateEV(0.5, game.moneyline_home);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>let predictedWinner;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (awayEV &gt; 0 &amp;&amp; homeEV &gt; 0) { predictedWinner = awayEV &gt; homeEV ? 'away' : 'home'; }<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>else if (awayEV &gt; 0) { predictedWinner = 'away'; }<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>else if (homeEV &gt; 0) { predictedWinner = 'home'; }<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>else { return; } // No +EV moneyline at 50/50</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>usedGameIndices.add(index);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const predictedLoser = predictedWinner === 'away' ? 'home' : 'away';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const finalPickTeam = (strategy === 'take') ? predictedWinner : predictedLoser;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const pickTeamInfo = getTeamInfo(game[`${finalPickTeam}_team`]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>primaryPicks.push({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>matchup: `${getTeamInfo(game.away_team).name} vs. ${getTeamInfo(game.home_team).name}`,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>pick: pickTeamInfo.name,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>justification: `(${strategy === 'take' ? 'Take' : 'Fade'} ${sport} Winner)`</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Step 2: Find the best O/U picks from the remaining games</p>
<p class="p1"><span class="Apple-converted-space">                </span>const slotsToFill = PARLAY_CAP - primaryPicks.length;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (slotsToFill &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>ALL_SPORTS_DATA.forEach((game, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (usedGameIndices.has(index)) return; // Skip if already used</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (!game.total_over_odds || !game.total_under_odds) return; // Skip if no total odds</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const overEV = calculateEV(0.5, game.total_over_odds);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const underEV = calculateEV(0.5, game.total_under_odds);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (overEV &gt; underEV) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>fillerPicks.push({ ev: overEV, pick: `Over ${game.total_over}`, matchup: `${getTeamInfo(game.away_team).name} vs. ${getTeamInfo(game.home_team).name}` });</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>fillerPicks.push({ ev: underEV, pick: `Under ${game.total_under}`, matchup: `${getTeamInfo(game.away_team).name} vs. ${getTeamInfo(game.home_team).name}` });</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>fillerPicks.sort((a, b) =&gt; b.ev - a.ev);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const bestFillers = fillerPicks.slice(0, slotsToFill).map(p =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>...p,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>justification: '(Best O/U Pick)'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>primaryPicks.push(...bestFillers);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (primaryPicks.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>parlayBtnText.textContent = 'No Picks Found';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; { parlayBtnText.textContent = 'Apply Strategy &amp; Copy Parlay'; }, 2500);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Instead of copying, show the modal</p>
<p class="p1"><span class="Apple-converted-space">                </span>parlayListContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>primaryPicks.slice(0, PARLAY_CAP).forEach(pick =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const pickElement = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>pickElement.className = 'p-3 rounded-lg text-sm';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>pickElement.style.backgroundColor = 'var(--input-bg)';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>pickElement.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="font-semibold"&gt;${pick.matchup}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p style="color: var(--accent-color);"&gt;&lt;strong&gt;PICK:&lt;/strong&gt; ${pick.pick} &lt;span class="text-xs font-normal" style="color: var(--text-secondary);"&gt;${pick.justification}&lt;/span&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>parlayListContainer.appendChild(pickElement);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>parlayModal.dataset.picks = JSON.stringify(primaryPicks.slice(0, PARLAY_CAP));</p>
<p class="p1"><span class="Apple-converted-space">                </span>showParlayModal();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function showParlayModal() {</p>
<p class="p1"><span class="Apple-converted-space">                 </span>parlayModal.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>parlayModal.classList.remove('opacity-0');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>parlayModalContent.classList.remove('scale-95');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 10);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function hideParlayModal() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>parlayModal.classList.add('opacity-0');</p>
<p class="p1"><span class="Apple-converted-space">                </span>parlayModalContent.classList.add('scale-95');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; parlayModal.classList.add('hidden'), 300);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function copyToClipboard(text, buttonTextElement, originalText) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const textArea = document.createElement('textarea');</p>
<p class="p1"><span class="Apple-converted-space">                </span>textArea.value = text;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.body.appendChild(textArea);</p>
<p class="p1"><span class="Apple-converted-space">                </span>textArea.select();</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.execCommand('copy');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>buttonTextElement.textContent = 'Copied!';</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (err) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('Failed to copy text: ', err);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>buttonTextElement.textContent = 'Copy Failed';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.body.removeChild(textArea);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; { buttonTextElement.textContent = originalText; }, 2000);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function copyHtmlToClipboard(html, buttonTextElement, originalText) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Create a temporary element to hold the HTML</p>
<p class="p1"><span class="Apple-converted-space">                </span>const tempEl = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>tempEl.style.position = 'absolute';</p>
<p class="p1"><span class="Apple-converted-space">                </span>tempEl.style.left = '-9999px';</p>
<p class="p1"><span class="Apple-converted-space">                </span>tempEl.innerHTML = html;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.body.appendChild(tempEl);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Select the content of the element</p>
<p class="p1"><span class="Apple-converted-space">                </span>const range = document.createRange();</p>
<p class="p1"><span class="Apple-converted-space">                </span>range.selectNodeContents(tempEl);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const selection = window.getSelection();</p>
<p class="p1"><span class="Apple-converted-space">                </span>selection.removeAllRanges();</p>
<p class="p1"><span class="Apple-converted-space">                </span>selection.addRange(range);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Copy the selection to the clipboard</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.execCommand('copy');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>buttonTextElement.textContent = 'Copied!';</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (err) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('Failed to copy HTML: ', err);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>buttonTextElement.textContent = 'Copy Failed';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Clean up</p>
<p class="p1"><span class="Apple-converted-space">                </span>selection.removeAllRanges();</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.body.removeChild(tempEl);</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; { buttonTextElement.textContent = originalText; }, 2000);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>function attachEventListeners() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>gameListContainer.addEventListener('input', e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (e.target.classList.contains('prob-slider')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>updateCardFromSlider(e.target.dataset.gameIndex, parseFloat(e.target.value));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>gameListContainer.addEventListener('change', e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (e.target.classList.contains('prob-input')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const gameIndex = e.target.closest('.game-card').dataset.gameIndex;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const awayInput = document.getElementById(`game-${gameIndex}-away-prob-input`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const homeInput = document.getElementById(`game-${gameIndex}-home-prob-input`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (e.target.id === awayInput.id) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>updateCardFromInput(gameIndex, awayInput, homeInput);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>updateCardFromInput(gameIndex, homeInput, awayInput);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>gameListContainer.addEventListener('click', e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (e.target.closest('.reset-prob-btn')) { handleResetProbability(e.target.closest('.reset-prob-btn')); }</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (e.target.closest('.fifty-fifty-btn')) { handle50PercentClick(e.target.closest('.fifty-fifty-btn')); }</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- SETUP LISTENERS ---</p>
<p class="p1"><span class="Apple-converted-space">            </span>evFilterToggle.addEventListener('change', applyFiltersAndSorting);</p>
<p class="p1"><span class="Apple-converted-space">            </span>sortSelect.addEventListener('change', applyFiltersAndSorting);</p>
<p class="p1"><span class="Apple-converted-space">            </span>copyBtn.addEventListener('click', handleCopyClick);</p>
<p class="p1"><span class="Apple-converted-space">            </span>generateParlayBtn.addEventListener('click', handleGenerateParlayClick);</p>
<p class="p1"><span class="Apple-converted-space">            </span>analyzeTodayBtn.addEventListener('click', fetchAndAnalyzeGames);</p>
<p class="p1"><span class="Apple-converted-space">            </span>newAnalysisBtn.addEventListener('click', resetApp);</p>
<p class="p1"><span class="Apple-converted-space">            </span>helpBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>helpModal.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>helpModal.classList.remove('opacity-0');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>helpModalContent.classList.remove('scale-95');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 10);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>closeHelpModalBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>helpModal.classList.add('opacity-0');</p>
<p class="p1"><span class="Apple-converted-space">                </span>helpModalContent.classList.add('scale-95');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; helpModal.classList.add('hidden'), 300);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Parlay Modal Listeners</p>
<p class="p1"><span class="Apple-converted-space">            </span>closeParlayModalBtn.addEventListener('click', hideParlayModal);</p>
<p class="p1"><span class="Apple-converted-space">            </span>cancelParlayBtn.addEventListener('click', hideParlayModal);</p>
<p class="p1"><span class="Apple-converted-space">            </span>copyParlayBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const picks = JSON.parse(parlayModal.dataset.picks || '[]');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (picks.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Define colors for portability (light theme)</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const colors = {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>containerBg: '#f1f5f9',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>accent: '#2563eb',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>textPrimary: '#0f172a',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>textSecondary: '#475569',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>border: '#e2e8f0'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>let htmlToCopy = `&lt;div style="font-family: Inter, sans-serif; color: ${colors.textPrimary};"&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>htmlToCopy += `&lt;h3 style="font-size: 18px; font-weight: 700; margin-bottom: 12px;"&gt;Strategic Parlay Picks (${picks.length} Games)&lt;/h3&gt;`;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>picks.forEach(pick =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>htmlToCopy += `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="background-color: ${colors.containerBg}; border-radius: 8px; padding: 12px; font-size: 14px; margin-bottom: 8px; border: 1px solid ${colors.border};"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p style="font-weight: 600; margin: 0 0 4px 0; color: ${colors.textPrimary};"&gt;${pick.matchup}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p style="color: ${colors.accent}; margin: 0;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;strong style="color: ${colors.accent};"&gt;PICK:&lt;/strong&gt; ${pick.pick}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span style="font-size: 12px; font-weight: 400; color: ${colors.textSecondary};"&gt;${pick.justification}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>htmlToCopy += `&lt;/div&gt;`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>copyHtmlToClipboard(htmlToCopy, copyParlayBtnText, 'Copy &amp; Close');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(hideParlayModal, 500); // Give time for "Copied!" text to show</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
<p class="p2"><br></p>
</body>
</html>
